---
layout: post
title: cmake的命令行参数
date: 2024-09-04 21:32 +0800
tags: [cmake]
toc: true
---

## 前言  
在cmake中，很多时候是通过命令行的方式向cmake中传递参数，或者是指导cmake如何进行构建，因此有必要学习一些常用的参数  

## cmake -D 传递CMAKE变量值  
-D 选项用于定义 CMake 变量。你可以通过这种方式在命令行上传递变量和配置选项，而不是在 CMakeLists.txt 文件中直接设置  
主要格式为：
`cmake -DVAR_NAME=VALUE ..`  
+ -D: 标志，表示定义一个变量。
+ VAR_NAME: 变量的名称。
+ VALUE: 变量的值  
主要功能： 
+ 可以主动设置在cmakelists中使用option函数所定义的变量的值  
+ 主动设置cmake内置变量的值  

### 常用的CMAKE变量值  
+ CMAKE_INSTALL_PREFIX 设置项目的安装位置  
+ CMAKE_BUILD_TYPE 设置构建类型，常见的值包括 Debug, Release, RelWithDebInfo, 和 MinSizeRel  
+ CMAKE_C_COMPILER 和 CMAKE_CXX_COMPILER: 指定 C 和 C++ 编译器  
+ CMAKE_C_FLAGS 和 CMAKE_CXX_FLAGS: 设置传递给 C 和 C++ 编译器的标志  
+ BUILD_SHARED_LIBS: 控制是生成共享库（ON）还是静态库（off） 
+ CMAKE_MODULE_PATH: 用于指定 CMake 在执行 find_package()、find_library()、find_file()、find_path() 和 find_program() 等命令时，搜索自定义模块的额外目录  
+ CMAKE_EXPORT_COMPILE_COMMANDS: 生成用于编译命令的 JSON 文件  
+ CMAKE_PREFIX_PATH：用于指定前缀路径，CMake 会在这些前缀路径下查找已安装的软件包（包括 include、lib、和 share/cmake）  

## cmake -G 指定生成器  
主要格式为  
`cmake -G "Unix Makefiles"`  
主要参数有：  
+ "Unix Makefiles"  
+ Ninja  
+ "Visual Studio 16 2019"或者"Visual Studio 15 2017"  
+ "MinGW Makefiles"  

## cmake -E 查看cmake支持哪些内置指令    
